from .interface import BotView
from .Utils import KeyBordUtils
from .BaseBot import BotBase, BotCore


class BotViewImpl(BotBase, BotView):
    def __init__(self, token: str, core: BotCore):
        super().__init__(token, core)
        self.__markups = KeyBordUtils.markups()

    def start(self, message):
        """–ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–≤–æ–¥–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è"""
        self._core.user_id = message.chat.id
        markup = self.__markups
        self._bot.send_message(self._core.user_id, "üòº–ú—è—É! —ç—Ç–æ docmeowbotüòº, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º, —Ö–æ—Ç—å —É –º–µ–Ω—è –ª–∞–ø–∫–∏üêæ!", reply_markup=markup)

    def menu(self):
        """–ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–≤–æ–¥–∞ –º–µ–Ω—é"""
        markup = self.__markups
        self._bot.send_message(self._core.user_id, "–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ, –º—É—Ä—Ä", reply_markup=markup)

    def answer_invalid_message(self):
        """–ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è-–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è"""
        self._bot.send_message(self._core.user_id, "–Ø –∫–æ—Ç–∏–∫ –∏ –ø–æ–Ω–∏–º–∞—é —Ç–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥—ãüòø")

    def answer_invalid_command(self):
        """–ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è-–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è"""
        self._bot.send_message(self._core.user_id, "–Ø –µ—â–µ –Ω–µ –≤—ã—É—á–∏–ª —ç—Ç—É –∫–æ–º–∞–Ω–¥—Éüòø")